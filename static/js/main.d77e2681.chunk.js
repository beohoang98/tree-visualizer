(this["webpackJsonptree-visualizer"]=this["webpackJsonptree-visualizer"]||[]).push([[0],{15:function(t,e,i){},16:function(t,e,i){},17:function(t,e,i){},18:function(t,e,i){"use strict";i.r(e);var c=i(0),n=i(1),o=i.n(n),r=i(8),a=i.n(r),s=i(2),l=(i(15),i(7)),u=(i(16),function(t){var e=t.initialElements,i=void 0===e?[]:e,o=t.onAddElement,r=void 0===o?function(){}:o,a=t.onRemoveElement,u=void 0===a?function(){}:a,h=Object(n.useState)(i),j=Object(s.a)(h,2),d=j[0],f=j[1],b=Object(n.useState)(),v=Object(s.a)(b,2),O=v[0],g=v[1],x=Object(n.useCallback)((function(t){var e=t.target.value;g(e),e&&!isNaN(+e)?t.target.classList.remove("error"):t.target.classList.add("error")}),[]),p=Object(n.useCallback)((function(t){t.preventDefault(),O&&!isNaN(+O)&&(f([].concat(Object(l.a)(d),[+O])),g(""),r(+O))}),[d,O,r]),y=Object(n.useCallback)((function(t){var e=t.currentTarget.getAttribute("data-index");if(e&&!isNaN(+e)){var i=d[+e];d.splice(+e,1),f(Object(l.a)(d)),u(i)}}),[d,u]);return Object(c.jsxs)("div",{className:"app-control",children:[Object(c.jsxs)("form",{className:"app-control-input",action:"#",onSubmit:p,children:[Object(c.jsx)("input",{value:O,type:"text",onChange:x}),Object(c.jsx)("button",{type:"submit",children:"Add"})]}),Object(c.jsx)("ul",{className:"app-control-elements",children:d.map((function(t,e){return Object(c.jsxs)("li",{className:"app-control-elements-item",children:[Object(c.jsx)("div",{"data-role":"value",children:t}),Object(c.jsx)("button",{"data-role":"remove","data-index":e,title:"Remove",onClick:y,children:Object(c.jsx)("i",{className:"fas fa-trash"})})]},e)}))})]})}),h=70,j=function t(e){var i,o,r=e.node,a=e.x,l=e.y,u=e.onHeightCalculated,j=void 0===u?function(){}:u,d=Object(n.useState)([0,0]),f=Object(s.a)(d,2),b=f[0],v=f[1],O=Object(n.useCallback)((function(t){return function(e){e[1-t]+1<=b[t]||(b[t]=e[1-t]+1,v(b.slice()))}}),[b]);if(Object(n.useEffect)((function(){r&&j([r.left?1:0,r.right?1:0])}),[j,r]),!r)return null;var g=20*Math.pow(2,b[0]),x=20*Math.pow(2,b[1]),p=r.left?Object(c.jsx)("path",{d:"M0,0 q0,".concat(35,",").concat(-g/2,",").concat(35," t").concat(-g/2,",").concat(35),stroke:"black"}):null,y=r.right?Object(c.jsx)("path",{d:"M0,0 q0,".concat(35,",").concat(x/2,",").concat(35," t").concat(x/2,",").concat(35),stroke:"black"}):null;return Object(c.jsxs)("g",{transform:"translate(".concat(a,", ").concat(l,")"),"data-height":b,children:[p,Object(c.jsx)(t,{node:r.left,x:-g,y:h,onHeightCalculated:O(0)},null===(i=r.left)||void 0===i?void 0:i.value),y,Object(c.jsx)(t,{node:r.right,x:x,y:h,onHeightCalculated:O(1)},null===(o=r.right)||void 0===o?void 0:o.value),Object(c.jsxs)("g",{className:"node",children:[Object(c.jsx)("circle",{cx:"0",cy:"0",r:20}),Object(c.jsx)("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",children:r.value})]})]})},d=(i(17),function(t){var e=t.tree,i=t.x,n=t.y;return Object(c.jsx)("g",{children:Object(c.jsx)(j,{node:e.root,x:i,y:n})})}),f=function(t){var e=t.children,i=t.width,o=t.height,r=Object(n.useState)(1),a=Object(s.a)(r,2),l=a[0],u=a[1],h=Object(n.useState)({x:0,y:0}),j=Object(s.a)(h,2),d=j[0],f=j[1],b=Object(n.useState)({x:0,y:0}),v=Object(s.a)(b,2),O=v[0],g=v[1],x=Object(n.useState)({w:i,h:o}),p=Object(s.a)(x,2),y=p[0],m=p[1],w=Object(n.useRef)(null),k=Object(n.useCallback)((function(t){var e=Math.pow(1.001,-t.deltaY),i=(O.x-d.x)*(1-e),c=(O.y-d.y)*(1-e);u(l*e),f({x:d.x-i,y:d.y-c})}),[l,O.x,O.y,d.x,d.y]),C=Object(n.useCallback)((function(t){var e=t.clientX/l+d.x,i=t.clientY/l+d.y;g({x:e,y:i})}),[d.x,d.y,l]),N=Object(n.useCallback)((function(){if(w.current){var t,e=(null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect())||{},i=e.width,c=void 0===i?0:i,n=e.height;m({w:c,h:void 0===n?0:n})}}),[]);return Object(n.useEffect)((function(){return N(),window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[N]),Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",ref:w,preserveAspectRatio:"true",onWheel:k,onMouseMove:C,onMouseOver:C,style:{width:"100%",height:"100%"},viewBox:"".concat(d.x," ").concat(d.y," ").concat(y.w/l," ").concat(y.h/l),children:[Object(c.jsx)("circle",{className:"pointer",cx:O.x,cy:O.y,r:"10"}),e]})},b=i(5),v=function t(e){Object(b.a)(this,t),this.value=void 0,this.left=void 0,this.right=void 0,this.value=e,this.left=void 0,this.right=void 0},O=i(9),g=function(){function t(){Object(b.a)(this,t),this.serializeID=0,this.root=void 0}return Object(O.a)(t,[{key:"insert",value:function(t){if(++this.serializeID,this.root)for(var e=this.root;e;)if(t<e.value){if(!e.left){e.left=new v(t);break}e=e.left}else{if(!e.right){e.right=new v(t);break}e=e.right}else this.root=new v(t)}},{key:"getNode",value:function(t){var e=this.root;if(e)for(;e;){if(e.value===t)return e;e=t<e.value?e.left:e.right}}},{key:"contain",value:function(t){return!!this.getNode(t)}},{key:"getValue",value:function(t){var e;return null===(e=this.getNode(t))||void 0===e?void 0:e.value}},{key:"getMinRight",value:function(t){for(var e=t,i=t.right;i&&i.left;)e=i,i=i.left;return[i,e]}},{key:"delete",value:function(t){if(this.root){for(var e=this.root,i=this.root,c=!1;e&&e.value!==t;)i=e,t<e.value?(c=!0,e=e.left):t>e.value&&(c=!1,e=e.right);if(e){if(++this.serializeID,!e.left&&!e.right)return e===this.root?(this.root=void 0,e):(c?i.left=void 0:i.right=void 0,e);if(!e.left)return e===this.root?(this.root=e.right,e):(c?i.left=e.right:i.right=e.right,e);if(!e.right)return e===this.root?(this.root=e.left,e):(c?i.left=e.left:i.right=e.left,e);var n=this.getMinRight(e),o=Object(s.a)(n,2),r=o[0],a=o[1];if(r&&a)return a===e?a.right=r.right:a.left=r.right,r.left=e.left,r.right=e.right,e===this.root?(this.root=r,e):(c?i.left=r:i.right=r,e)}}}}]),t}();var x=function(){var t=Object(n.useState)(new g),e=Object(s.a)(t,2),i=e[0],o=e[1],r=Object(n.useCallback)((function(t){console.debug("Add "+t),i.insert(t),o(Object.assign(Object.create(Object.getPrototypeOf(i)),i))}),[i]),a=Object(n.useCallback)((function(t){console.debug("Remove "+t),i.delete(t),o(Object.assign(Object.create(Object.getPrototypeOf(i)),i))}),[i]);return Object(c.jsxs)("div",{className:"app-container",children:[Object(c.jsx)("div",{className:"app-svg",children:Object(c.jsxs)(f,{width:800,height:800,children:[Object(c.jsx)("defs",{children:Object(c.jsxs)("linearGradient",{id:"path-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(c.jsx)("stop",{offset:"0%","stop-color":"#22c"}),Object(c.jsx)("stop",{offset:"50%","stop-color":"#3cf"}),Object(c.jsx)("stop",{offset:"100%","stop-color":"#22c"})]})}),Object(c.jsx)(d,{tree:i,x:400,y:100})]})}),Object(c.jsx)(u,{onAddElement:r,onRemoveElement:a})]})},p=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(e){var i=e.getCLS,c=e.getFID,n=e.getFCP,o=e.getLCP,r=e.getTTFB;i(t),c(t),n(t),o(t),r(t)}))};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),p()}},[[18,1,2]]]);
//# sourceMappingURL=main.d77e2681.chunk.js.map